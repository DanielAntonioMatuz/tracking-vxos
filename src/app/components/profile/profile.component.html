<div class="uk-animation-fade">
  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <a class="navbar-brand" href="#">VxOS Software</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse " id="navbarNav">
      <ul class="navbar-nav mx-auto">
        <li class="nav-item active mg">
          <a class="nav-link" href="#">Inicio <span class="sr-only">(current)</span></a>
        </li>
        <li class="nav-item mg">
          <a class="nav-link" routerLink="/contact">Contacto</a>
        </li>
      </ul>
    </div>
    <div class="uk-navbar-right">

      <div>
        <a class="uk-navbar-toggle" href="#" uk-search-icon></a>
        <div class="uk-navbar-dropdown" uk-drop="mode: click; cls-drop: uk-navbar-dropdown; boundary: !nav">

          <div class="uk-grid-small uk-flex-middle" uk-grid>
            <div class="uk-width-expand">
              <form class="uk-search uk-search-navbar uk-width-1-1">
                <input (keyup.enter)="valueId(idValue.value)" class="uk-search-input" #idValue name="idValue" type="search" placeholder="Search..." autofocus>
              </form>
            </div>
            <div class="uk-width-auto">
              <a class="uk-navbar-dropdown-close" href="#" uk-close></a>
            </div>
          </div>

        </div>
      </div>

    </div>
  </nav>



  <div id="report">
    <div id="MyDiv" class="mx-auto w-75" style="margin-top: 25px">
      <h1 class="uk-text-large" style="text-align: center; margin-bottom: 15px">Información de su licencia</h1>
      <div>

        <div class="row">
          <div class="col">
            <div class="uk-tile uk-tile-primary uk-padding-small" style="margin-bottom: 10px; margin-top: 10px">
              <p class="uk-h4">referencia: {{user.referencia}}</p>
            </div>
          </div>
          <div class="col" *ngIf="status">
            <a class="uk-tile uk-tile-primary uk-padding-small" href="#renovacionLicencia" uk-toggle style="margin-bottom: 10px; border: none ;margin-top: 10px">
              <p class="uk-h4"  >Solicitar renovación</p>
            </a>
          </div>
          <div class="col">
            <div  class="uk-tile uk-tile-secondary uk-padding-small" style="margin-bottom: 10px; border: none ;margin-top: 10px">
              <p class="uk-h4">Tipo de licencia: {{user.tipoLicencia}}</p>
            </div>
          </div>
        </div>


      </div>
      <div class="uk-child-width-1-3@m uk-grid-small uk-grid-match" uk-grid>
        <div>
          <div class="uk-card uk-card-default uk-card-body">
            <h3 class="uk-card-title">Email</h3>
            <p>{{user.email}}</p>
          </div>
        </div>
        <div>
          <div class="uk-card uk-card-primary uk-card-body">
            <h3 class="uk-card-title">Estado de licencia</h3>
            <p *ngIf="user.estadoLicencia">{{user.estadoLicencia}}</p>
            <p *ngIf="!user.estadoLicencia">Inactivo</p>
          </div>
        </div>
        <div>
          <div class="uk-card uk-card-secondary uk-card-body">
            <h3 class="uk-card-title">Fecha de activacion</h3>
            <p>{{user.fechaActivacion}}</p>
          </div>
        </div>
      </div>
    </div>

    <div class="accordion" id="accordionExample" style="margin-top: 20px;">
      <div class="card" >
        <div class="card-header" id="headingOne">
          <h2 class="mb-0">
            <button (click)="hiddenRastreo()" class="btn btn-link btn-block text-left"  type="button" data-toggle="collapse" data-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
              <h4 style="text-align: center">{{details}}</h4>
            </button>
          </h2>
        </div>

        <div id="collapseOne" class="collapse show" aria-labelledby="headingOne" data-parent="#accordionExample">
          <div class="card-body mx-auto">
            <div class="border mx-auto" style="margin-top: 15px; margin-bottom: 15px">
              <h1 class="uk-text-large" style="text-align: center; margin-top: 15px">Rastreo de su licencia</h1>
              <div class="page">
                <div class="timeline">
                  <div class="timeline__group">
                    <span class="timeline__year">Envío de datos a la central</span>
                    <div class="timeline__box" *ngIf="user.act1" style="margin-top: 15px!important;">
                      <div class="timeline__date" style="border-radius: 15px">
                        <span class="timeline__day">1</span>
                        <span class="timeline__month">VxOS</span>
                      </div>
                      <div class="timeline__post">
                        <div class="timeline__content">
                          <p>La información ha sido recibido por nuestra plataforma, y esta siendo procesada para enviarlo al servicio de activación</p>
                        </div>
                      </div>
                    </div>
                    <div class="timeline__box" *ngIf="user.act2">
                      <div class="timeline__date" style="border-radius: 15px">
                        <span class="timeline__day">2</span>
                        <span class="timeline__month">VxOS</span>
                      </div>
                      <div class="timeline__post">
                        <div class="timeline__content">
                          <p>La información de la cuenta y el paquete, han sido enviados con éxito al servicio de Activación de Adobe</p>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="timeline__group" *ngIf="user.act3">
                    <span class="timeline__year">Datos enviado al servidor de Adobe</span>
                    <div class="timeline__box" style="margin-top: 15px!important;">
                      <div class="timeline__date" style="border-radius: 15px">
                        <span class="timeline__day">3</span>
                        <span class="timeline__month">ADB</span>
                      </div>
                      <div class="timeline__post">
                        <div class="timeline__content">
                          <p>El servidor de Adobe ha recibido la información con éxito y esta procesando la activación de la cuenta</p>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="timeline__group" *ngIf="user.act4">
                    <span class="timeline__year">Licencia registrada</span>
                    <div class="timeline__box" style="margin-top: 15px!important;">
                      <div class="timeline__date" style="border-radius: 15px">
                        <span class="timeline__day">4</span>
                        <span class="timeline__month">ADB</span>
                      </div>
                      <div class="timeline__post">
                        <div class="timeline__content">
                          <p>La licencia esta lista para su uso, haga click en el botón "Listo para comenzar" para más información</p>
                          <a class="uk-button uk-button-default" href="#modal-media-vimeo" uk-toggle>Listo para comenzar</a>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>


      <div id="modal-media-vimeo" class="uk-flex-top" uk-modal>
        <div class="uk-modal-dialog uk-width-auto uk-margin-auto-vertical">
          <button class="uk-modal-close-outside" type="button" uk-close></button>
          <iframe src="https://player.vimeo.com/video/398635098" width="1280" height="720" frameborder="0" uk-video uk-responsive></iframe>
        </div>
      </div>

      <div class="uk-child-width-1-2@s uk-grid-collapse uk-text-center w-75 mx-auto" uk-grid>
        <div>
          <div class="uk-tile uk-tile-default">
            <p class="uk-h4">Vigencia de licencia: {{user.vigencia}}</p>
          </div>
        </div>

        <div>
          <div class="uk-tile uk-tile-primary">
            <p class="uk-h4">Usuario: {{user.nombre}} </p>
          </div>
        </div>

      </div>


    </div>


    <div id="renovacionLicencia" uk-modal>
      <div class="uk-modal-dialog">
        <button class="uk-modal-close-default" type="button" uk-close></button>
        <div class="uk-modal-header">
          <h2 class="uk-modal-title">Renovar licencia</h2>
        </div>
        <div class="uk-modal-body">
          <p>Si su licencia ha caducado y no dispone de los servicios adquiridos, rellene el siguiente formulario para que un agente se ponga en contacto con usted y generar una renovación de su licencia</p>

          <form (ngSubmit)="contactForm(form.value)" #form="ngForm" *ngIf="msgService">
            <fieldset class="uk-fieldset">
              <legend class="uk-legend">Servicio de asistencia</legend>

              <div class="uk-margin">
                <input class="uk-input" type="text" placeholder="Ingrese su email asociado a su licencia" name="email" ngModel="{{user.email}}" value="{{user.email}}">
              </div>

              <div class="uk-margin">
                <select class="uk-select" name="nombre" ngModel="Renovación de licencia">
                  <option>Renovación de licencia</option>
                </select>
              </div>

              <div class="uk-margin">
                <input class="uk-input" type="text" placeholder="Vigencia" name="vigencia" ngModel="{{user.vigencia}}" value="{{user.vigencia}}">
              </div>

              <div class="uk-margin" style="display: none">
                <textarea class="uk-textarea" rows="5" placeholder="Ingrese su mensaje sobre su solicitud" name="ticket" ngModel="{{tickect}}"></textarea>
              </div>

              <div class="uk-margin" style="display: none">
                <textarea class="uk-textarea" rows="5" placeholder="Ingrese su mensaje sobre su solicitud" name="asistencia" ngModel="Renovación de licencia" ></textarea>
              </div>

              <div class="uk-margin">
                <textarea class="uk-textarea" rows="5" placeholder="Ingrese su mensaje sobre su solicitud" name="mensaje" ngModel="{{soliLicense}}" [value]="soliLicense"></textarea>
              </div>
              <button class="uk-button uk-button-primary">Enviar</button>

            </fieldset>
          </form>
          <div *ngIf="!msgService">
            <div class="alert alert-success" role="alert">
              Su solicitud con número de ticket {{tickect}} ha sido enviado correctamente,
              nos pondremos en contacto con usted en este email muy pronto.
            </div>
          </div>
        </div>
        <div class="uk-modal-footer uk-text-right">
          <button class="uk-button uk-button-default uk-modal-close" type="button">Cerrar</button>
        </div>
      </div>
    </div>
  </div>

</div>
